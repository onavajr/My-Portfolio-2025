<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/styles.css"/>
        <title>Orlando Nava Portfolio 2025</title>
    </head>
    <body>
    <header>
        <h1>Orlando Nava</h1>
        <p>Web Developer & Designer | Portfolio 2025</p>
    </header>
    <nav>
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#contact">Contact</a>
    </nav>
    <div class="container">
        <section id="about" class="about">
            <img src="/my_photo.jpeg" alt="Jane Doe"/>
            <div class="about-content">
                <h2 class="section-title">About Me</h2>
                <p>
                    Hi! I'm Jane, a passionate web developer specializing in modern, responsive design. I love building beautiful and functional websites using the latest technologies. Let's create something amazing together!
                </p>
            </div>
        </section>
        <section id="projects">
            <h2 class="section-title">Projects</h2>
            <div class="projects">
                <div class="project-card">
                    <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80" alt="Project 1"/>
                    <div class="card-content">
                        <h2>Modern Portfolio</h2>
                        <p>A sleek and responsive portfolio website built with HTML, CSS, and JavaScript.</p>
                    </div>
                </div>
                <div class="project-card">
                    <img src="https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80" alt="Project 2"/>
                    <div class="card-content">
                        <h2>Creative Blog</h2>
                        <p>A minimal blog platform with a focus on readability and user experience.</p>
                    </div>
                </div>
                <div class="project-card">
                    <img src="https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80" alt="Project 3"/>
                    <div class="card-content">
                        <h2>Photo Gallery</h2>
                        <p>Responsive photo gallery showcasing beautiful images and smooth transitions.</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="contact">
            <h2>Contact</h2>
            <p>If you'd like to get in touch, send a message using the form below.</p>

            <!--
              Netlify (recommended for static sites): deploy this site to Netlify and the form will be handled automatically.
              The form below is configured for Netlify by default (data-netlify="true").

              Formspree: to use Formspree instead, set the form's `data-service="formspree"` and update the `action` attribute
              to your Formspree endpoint (for example: https://formspree.io/f/your-id). Remove `data-netlify` when using Formspree.
            -->
            <form id="contact-form" name="contact" method="POST" data-netlify="true" data-service="netlify" novalidate>
                <!-- Netlify requires a form-name hidden input for non-JS submissions -->
                <input type="hidden" name="form-name" value="contact">
                <!-- Honeypot for bots (Netlify will ignore submissions with this filled) -->
                <div style="display:none;">
                  <label>Don’t fill this out if you're human: <input name="bot-field"></label>
                </div>

                <div class="form-row">
                    <label for="name">Name</label>
                    <input id="name" name="name" type="text" required>
                </div>

                <div class="form-row">
                    <label for="email">Email</label>
                    <input id="email" name="email" type="email" required>
                </div>

                <div class="form-row">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="6" required></textarea>
                </div>

                <div class="form-row">
                    <button type="submit" class="btn btn-primary">Send message</button>
                    <span id="form-status" role="status" aria-live="polite" style="margin-left:1rem"></span>
                </div>
            </form>
        </section>
    </div>
    <footer>
        &copy; 2025 Orlando Nava All rights reserved.
    </footer>
    <script>
        // Progressive form submitter: supports Netlify Forms (default) and Formspree.
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('contact-form');
            const status = document.getElementById('form-status');

            async function submitToFormspree(action, payload) {
                const res = await fetch(action, {
                    method: 'POST',
                    headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload),
                });
                return res;
            }

            async function submitToNetlify(payload) {
                // Netlify accepts application/x-www-form-urlencoded for AJAX submissions
                const body = new URLSearchParams(payload).toString();
                const res = await fetch('/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body,
                });
                return res;
            }

            form.addEventListener('submit', async function (e) {
                e.preventDefault();

                // Client-side validation
                if (!form.checkValidity()) {
                    form.reportValidity();
                    return;
                }

                const btn = form.querySelector('button[type="submit"]');
                const originalText = btn.textContent;
                btn.disabled = true;
                btn.textContent = 'Sending...';
                status.textContent = '';

                // Build payload from form fields
                const formData = new FormData(form);
                // Convert to plain object (handles repeated fields if any)
                const payload = {};
                formData.forEach((v, k) => {
                    payload[k] = v;
                });

                try {
                    let res;
                    const service = (form.dataset.service || '').toLowerCase();
                    const isNetlify = form.hasAttribute('data-netlify') && service !== 'formspree';

                    if (service === 'formspree' && form.action) {
                        // Submit JSON to Formspree endpoint (set form.action to your Formspree URL)
                        res = await submitToFormspree(form.action, payload);
                    } else if (isNetlify) {
                        // Ensure form-name exists (Netlify requires it)
                        if (!payload['form-name']) payload['form-name'] = form.getAttribute('name') || 'contact';
                        res = await submitToNetlify(payload);
                    } else if (form.action && service) {
                        // Generic fallback to POST JSON to whatever action is specified
                        res = await fetch(form.action, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload),
                        });
                    } else {
                        status.textContent = 'Form is not configured for a remote service. Set data-service or action attribute.';
                        return;
                    }

                    if (res && (res.ok || res.status === 200 || res.status === 201)) {
                        form.reset();
                        status.textContent = 'Thanks — your message was sent.';
                    } else {
                        // Try to parse error message
                        let errText = 'Error sending message.';
                        try {
                            const body = await (res && res.json ? res.json() : {});
                            if (body && body.error) errText = `Error: ${body.error}`;
                        } catch (err) {
                            // ignore
                        }
                        status.textContent = errText;
                    }
                } catch (err) {
                    console.error('Submit error', err);
                    status.textContent = 'Network error. Try again later.';
                } finally {
                    btn.disabled = false;
                    btn.textContent = originalText;
                }
            });
        });
    </script>
</body>
</html>